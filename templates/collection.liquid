<style>
* {
    box-sizing: border-box;
    border-collapse: collapse;
} 
  .products-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0px;
      width: 100%; 
  }

  .product-card--mobile { display: none; }
  
  .collection-page .product-card .card-wrap {
      display: grid;
      grid-template-rows: 1fr auto;
      cursor: pointer;
      width: 100%;
      border-top: 1px solid var(--black);
      border-right: 1px solid var(--black);
      border-bottom: 1px solid var(--black);
      min-width: 0;
  }

  .collection-page .product-card:nth-child(n + 4) .card-wrap {
    border-bottom: 0 !important;
    border-top: 0 !important;
  }

  .collection-page .product-card:nth-child(-n + 3) .card-wrap {
    /* border-bottom: 0 !important; */
  }
  

  .collection-page .product-card .image {
      overflow: hidden;
      height: 100%;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      aspect-ratio: 4/5;
      transition: opacity: 0.2s ease-in-out;
  }
  
  .collection-page .product-card img {
      object-fit: cover;
      object-position: center center;
      height: 100%;
      min-width: 100%;
      display: block;
  }

  /* .collection-page .product-card:hover .image {
      opacity: 1 !important;   
  }
  
  .collection-page .product-card .image:hover img {
      opacity: 0.8;
  } */

  .collection-page .product-card .data {
      margin-right: 0px;
      background: var(--white);
      color: var(--black);
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 8px 10px;
      font-size: 18px;
      border-top: 1px solid var(--black);
  }
  
  .collection-page .product-card .data a {
      font-size: 18px;
  }
  
  .collection-page .product-card:hover .title a {
      text-decoration: underline;
  }

  /*
  ----------------------------------------------------------------
  */
  @media screen and (max-width: 1024px) {
      .collection-page .product-card .data {
        font-size: 16px;
      }

      .collection-page .product-card a {
        font-size: 16px;
      }
  }
  @media screen and (max-width: 767px) {

      .products-grid { display: flex; flex-direction: column; gap: 0px; }
    
      .product-card { display: none; }
    
      .product-card--mobile { 
          display: block; 
      }
    
      .product-card--mobile .swiper {
          width: 100%;
          aspect-ratio: 4/3;
      }

      .swiper-pagination {
          text-align: right;
          padding: 0 10px 5px 0;
          display: flex;
          flex-direction: row;
          justify-content: flex-end;
          align-items: center;
          gap: 2px;

          .swiper-pagination-bullet {
              width: 16px;
              height: 16px;
              display: inline-block;
              border: 1px solid var(--white);
              outline: 1px solid var(--black);
              border-radius: var(--swiper-pagination-bullet-border-radius,50%);
              background: var(--white);
              opacity: 1;
          }
          .swiper-pagination-bullet-active {
              background: var(--black);
          }

      }
  
  }
</style>

<div class="collection-page">
  {% paginate collection.products by 6 %}

    <ul class="products-grid">
      {% for product in collection.products %}
        {% render 'product-card' product: product %}
        {% render 'product-card--mobile' product: product %}
      {% else %}
        <li>{{ 'no products found' | escape }}</li>
      {% endfor %}
    </ul>
  
  
    {% if paginate.pages > 1 %}
      {{ paginate | default_pagination }}
    {% endif %}
  
  {% endpaginate %}
</div>

{% comment %}
  JavaScript for collection sorting.
{% endcomment %}
<script>
jQuery('.sort-by')
  .val('{{ collection.sort_by | default: collection.default_sort_by }}')
  .on('change', function() {
    Shopify.queryParams.sort_by = jQuery(this).val();
    location.search = jQuery.param(Shopify.queryParams).replace(/\+/g, '%20');
  });
</script>